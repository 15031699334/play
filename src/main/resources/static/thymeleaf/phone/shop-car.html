<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" type="text/css" href="font/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="css/swiper.min.css" />
    <link rel="stylesheet" type="text/css" href="css/reset.css" />
    <link rel="stylesheet" type="text/css" href="css/all.css" />
    <link rel="stylesheet" type="text/css" href="css/shop.css" />
    <script src="js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/phone.js" type="text/javascript" charset="utf-8"></script>
</head>
<body style="padding-top: 50px;">
<div id="cart-head" class="show">
    <div class="cart-head">
        <a class="return" href="javascript:history.back(-1);">
            <span class="arrow-left"></span>
        </a>
        <div class="head-title">购物车</div>
        <a class="carhead-right" href="javascript:operation();">管理</a>
    </div>
</div>
<form action="" method="">
    <div class="car-box">
        <ul>
            <li class="car-list">
                <div class="car-address">
                    <span>泰州库</span>
                    <button class="carSet-all fr" type="button" style="padding: 0;width: 70px;">
                        <a href="pindan.html" style="color: #fff;padding: 0;">去拼单</a>
                    </button>
                </div>
                <div class="car-goods">
                    <input class="check-goods" checked="checked" type="radio" name="radio" value="" />
                    <span>日照　酸洗卷　SPHC</span>
                    <span class="carGood-mage"><b>2.300*1250.0*C</b>　<t class="goods-weight">8.880</t>吨</span>
                    <span class="carGood-price"><b class="goods-price">4168</b>元/吨</span>
                </div>
            </li>
            <li class="car-list">
                <div class="car-address">
                    <span>上海库</span>
                    <button class="carSet-all fr" type="button" style="padding: 0;width: 70px;">
                        <a href="pindan.html" style="color: #fff;">去拼单</a>
                    </button>
                </div>
                <div class="car-goods">
                    <input class="check-goods" type="radio" name="radio" value="" />
                    <span>本钢　酸洗卷　SPHC</span>
                    <span class="carGood-mage"><b>2.300*1250.0*C</b>　<t class="goods-weight">8.880</t>吨</span>
                    <span class="carGood-price"><b class="goods-price">4160</b>元/吨</span>
                </div>
            </li>
        </ul>
    </div>
</form>
<div class="footer car-set allset" style="bottom: 52px;">
    <div class="fl clearfix money">
        合计：<i>￥</i><b id="carShop-price">0.00</b><i id="carShop-weight">（0.000吨）</i>
    </div>
</div>
<div class="footer car-set">
    <button class="carSet-all fr" type="button">
        <a href="play-cg.html" style="color: #fff;">计划采购</a>
    </button>
    <button class="carSet-all fr" type="button"><a href="submit-order.html" style="background-color: red;color: #fff;">提交订单</a></button>
    <button class="carSet-empty fr" type="button">清空购物车</button>
    <button class="carSet-del fr" type="button">删除</button>
</div>
<script type="text/javascript">
$('.check-goods').bind('click', total_calc);

total_calc();

var operation_tag = 0;//0：提交购物车操作，1：删除购物车操作
//提交与操作切换
function operation () {
  if (operation_tag == 0) {
    $('.carhead-right').text('完成');
    $('.carSet-all').hide();
    $('.allset').hide();
    $('.carSet-empty').show();
    $('.carSet-del').show();
    operation_tag = 1;
  } else {
    $('.carhead-right').text('管理');
    $('.carSet-all').show();
    $('.allset').show();
    $('.carSet-empty').hide();
    $('.carSet-del').hide();
    operation_tag = 0;
  }
};

//选中
function is_chose () {
  var ids = '';
  $('.check-goods:checked').each(function () {
    ids += $(this).val() + ',';
  });

}

//总计计算
function total_calc () {
  var all_price = 0;
  var all_weight = 0;
  var price = 0;
  var weight = 0;
  $('.check-goods:checked').each(function () {
    price = parseFloat($(this).parent('.car-goods').find('.goods-price').text());
    weight = parseFloat($(this).parent('.car-goods').find('.goods-weight').text());
    all_weight += weight;
    all_price += price * weight;
  });
  $('#carShop-price').text(all_price.toFixed(2));
  $('#carShop-weight').text('（' + all_weight.toFixed(3) + '吨）');
}
</script>
</body>
</html>
